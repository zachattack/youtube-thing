<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>index</title>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript" charset="utf-8">
    google.load("jquery", "1.7.1");
    google.load("jqueryui", "1.8.16");
  </script>
</head>
<body>
  <ul id='playlists'>
  </ul>
</body>
<script type="text/javascript" charset="utf-8">
  $(function(){
    var design = "http://localhost:5984/youtube-sxsw/_design/by"
    var view = design + '/_view/playlist_title'
    var params = {
      include_docs: true,
    };
    
    $.ajax({
      url: view,
      data: params,
      dataType: 'json',
      success: function(response) {
        console.log(response)
        var key, doc;
        for(i in response.rows) {
          key = response.rows[i].key;
          id  = response.rows[i].id;
          doc = response.rows[i].doc;
          var pl_li = $("<li>").attr('id', id).addClass('playlist');
          pl_li.data('doc', doc); // todo: do something with this
          var pl_a  = $("<a>").attr('href', '#').attr('id', id).text(key);
          $('#playlists').append(pl_li.html(pl_a));
        }
      }
    })
  })
</script>